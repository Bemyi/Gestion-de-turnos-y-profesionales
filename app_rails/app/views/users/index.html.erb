<% if notice %>
  <p class="alert alert-success" id="notice"><%= notice %></p>
<% end %>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-7">
        <div class="card">
          <div class="card-header">Users</div>
            <div class="card-body">
              <div class="row table-responsive">
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Email</th>
                      <th>Rol</th>
                      <th colspan="3"></th>
                    </tr>
                  </thead>

                  <tbody>
                    <% @users.each do |user| %>
                      <tr>
                        <td><%= user.email %></td>
                        <td><%= user.role %></td>
                        <td><%= link_to 'Show', user_path(user.id), :class => "btn btn-primary btn-sm" %></td>
                        <td><%= link_to 'Edit', edit_user_path(user), :class => "btn btn-primary btn-sm" %></td>
                        <% if user.id != current_user.id %>
                          <td><%= link_to 'Delete', user, method: :delete, data: { confirm: 'Are you sure?' }, :class => "btn btn-danger btn-sm" %></td>
                        <% end %>
                      </tr>
                    <% end %>
                  </tbody>
                </table>
              </div>
              <%= link_to 'New User', new_user_path, :class => "btn btn-primary btn-sm" %>
              <%= link_to 'Back', professionals_path, :class => "btn btn-secondary btn-sm" %>
            </div>
          </div>
        </div>
    </div>
  </div>
</div>